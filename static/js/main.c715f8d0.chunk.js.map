{"version":3,"sources":["components/TodoFilter/TodoFilter.tsx","api.js","components/TodoList/TodoList.tsx","components/TodoRandomize/TodoRandomize.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["Status","getData","endpoint","fetch","then","response","ok","Error","statusText","json","getTodos","query","todos","filter","todo","title","includes","TodoFilter","props","renderStatus","htmlFor","className","type","value","id","onChange","event","target","preventDefault","searchByTitle","name","changeShowStatus","TodoRandomize","onClick","temp","j","i","length","Math","floor","random","setShuffleTodos","shuffleTodos","TodoList","state","all","setState","showTodosByStatus","active","completed","this","loadData","_prevProps","prevState","a","selectedUserId","map","classNames","checked","readOnly","userId","chooseUser","React","Component","CurrentUser","email","phone","loadUser","prevProps","user","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c715f8d0.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoFilter.scss';\n\nenum Status {\n  all = 'all',\n  active = 'active',\n  completed = 'completed',\n}\n\ninterface Props {\n  changeShowStatus: (value: Status) => void;\n  searchByTitle: (value: string) => void;\n  renderStatus: Status;\n  query: string;\n}\n\nexport const TodoFilter: React.FC<Props> = (props) => {\n  const handleChangeUser = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    event.preventDefault();\n    const { value } = event.target;\n\n    props.changeShowStatus(value as Status);\n  };\n\n  const handleSearchByTitle = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    event.preventDefault();\n\n    props.searchByTitle(value);\n  };\n\n  const { renderStatus, query } = props;\n\n  return (\n    <>\n      <label htmlFor=\"searchByTitle\">\n        Search by title:\n        <input\n          className=\"filter__input\"\n          type=\"text\"\n          value={query}\n          id=\"searchByTitle\"\n          onChange={handleSearchByTitle}\n        />\n      </label>\n\n      <label htmlFor=\"searchByStatus\">\n        Search by status:\n        <select\n          className=\"filter__input\"\n          name=\"searchByStatus\"\n          id=\"searchByStatus\"\n          value={renderStatus}\n          onChange={handleChangeUser}\n        >\n          <option value=\"all\">All</option>\n          <option value=\"active\">Active</option>\n          <option value=\"completed\">Completed</option>\n        </select>\n      </label>\n    </>\n  );\n};\n","const API_URL = 'https://mate.academy/students-api/';\n\nexport const getData = (endpoint) => {\n  return fetch(`${API_URL}${endpoint}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n\n      return response.json();\n    });\n};\n\nexport const getUser = (userId) => {\n  return getData(`users/${userId}`);\n};\n\nexport const getTodos = (query) => {\n  return getData('todos')\n    .then(todos => todos\n      .filter((todo) => todo.title && todo.title.includes(query)));\n};\n","import classNames from 'classnames';\nimport React from 'react';\nimport { getTodos } from '../../api';\nimport { TodoFilter } from '../TodoFilter';\nimport { TodoRandomize } from '../TodoRandomize';\nimport './TodoList.scss';\n\ninterface State {\n  todos: Todo[];\n  query: string;\n  renderStatus: Status;\n}\n\ninterface Props {\n  chooseUser: (userId: number) => void;\n  selectedUserId: number;\n}\n\nenum Status {\n  all = 'all',\n  active = 'active',\n  completed = 'completed',\n}\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    todos: [],\n    query: '',\n    renderStatus: Status.all,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.query !== this.state.query) {\n      this.loadData();\n    }\n  }\n\n  searchByTitle = (value: string) => {\n    this.setState({ query: value });\n  };\n\n  changeShowStatus = (value: Status) => {\n    this.setState({ renderStatus: value as Status });\n  };\n\n  showTodosByStatus = () => {\n    const { renderStatus, todos } = this.state;\n\n    switch (renderStatus) {\n      case Status.all:\n        return [...todos];\n      case Status.active:\n        return [...todos].filter(todo => todo.completed === false);\n      case Status.completed:\n        return [...todos].filter(todo => todo.completed === true);\n      default:\n        return [...todos];\n    }\n  };\n\n  setShuffleTodos = (todos: Todo[]) => {\n    this.setState({ todos });\n  };\n\n  async loadData() {\n    const { query } = this.state;\n    const todos = await getTodos(query);\n\n    this.setState({ todos });\n  }\n\n  render() {\n    const { query, renderStatus, todos } = this.state;\n    const { selectedUserId } = this.props;\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <div className=\"TodoList__controls\">\n          <TodoFilter\n            changeShowStatus={this.changeShowStatus}\n            searchByTitle={this.searchByTitle}\n            renderStatus={renderStatus}\n            query={query}\n          />\n\n          <TodoRandomize\n            setShuffleTodos={this.setShuffleTodos}\n            todos={todos}\n          />\n        </div>\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {this.showTodosByStatus().map(todo => (\n              <li\n                className={classNames(\n                  'TodoList__item',\n                  {\n                    'TodoList__item--unchecked': !todo.completed,\n                    'TodoList__item--checked': todo.completed,\n                  },\n                )}\n                key={todo.id}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    readOnly\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames(\n                    'TodoList__user-button',\n                    'button',\n                    {\n                      'TodoList__user-button--selected': todo.userId === selectedUserId,\n                    },\n                  )}\n                  type=\"button\"\n                  onClick={(event) => {\n                    event.preventDefault();\n                    this.props.chooseUser(todo.userId);\n                  }}\n                >\n                  {`User #${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\ninterface Props {\n  setShuffleTodos: (todos: Todo[]) => void;\n  todos: Todo[];\n}\n\nexport const TodoRandomize: React.FC<Props> = (props) => {\n  const shuffleTodos = () => {\n    let j = 0;\n    let temp;\n    const { todos } = props;\n\n    for (let i = todos.length - 1; i > 0; i -= 1) {\n      j = Math.floor(Math.random() * (i + 1));\n      temp = todos[j];\n      todos[j] = todos[i];\n      todos[i] = temp;\n    }\n\n    return props.setShuffleTodos(todos);\n  };\n\n  return (\n    <button\n      className=\"button\"\n      type=\"button\"\n      onClick={(event) => {\n        event.preventDefault();\n        shuffleTodos();\n      }}\n    >\n      Randomize\n    </button>\n  );\n};\n","import React from 'react';\nimport { getUser } from '../../api';\nimport './CurrentUser.scss';\n\ninterface Props {\n  selectedUserId: number;\n  chooseUser: (userId: number) => void;\n}\n\ntype State = User;\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state = {\n    id: 0,\n    name: '',\n    email: '',\n    phone: '',\n  };\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.selectedUserId !== this.props.selectedUserId) {\n      this.loadUser();\n    }\n  }\n\n  async loadUser() {\n    const { selectedUserId } = this.props;\n    const user: User = await getUser(selectedUserId);\n\n    this.setState({ ...user } as User);\n  }\n\n  render() {\n    const {\n      id,\n      name,\n      phone,\n      email,\n    } = this.state;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            {`Selected user: ${id}`}\n          </span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">{name}</h3>\n        <p className=\"CurrentUser__email\">{email}</p>\n        <p className=\"CurrentUser__phone\">{phone}</p>\n\n        <button\n          type=\"button\"\n          className=\"button CurrentUser__button\"\n          onClick={(event) => {\n            event.preventDefault();\n            this.props.chooseUser(0);\n          }}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\ninterface State {\n  selectedUserId: number;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n  };\n\n  chooseUser = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  render() {\n    const { selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            chooseUser={this.chooseUser}\n            selectedUserId={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                chooseUser={this.chooseUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}